{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"D:/Alumni/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from'react';import{UserContext}from'../../App';import{useParams}from'react-router-dom';var Profile=function Profile(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),userProfile=_useState2[0],setProfile=_useState2[1];var _useContext=useContext(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;var _useParams=useParams(),userid=_useParams.userid;var _useState3=useState(state?!state.following.includes(userid):true),_useState4=_slicedToArray(_useState3,2),showfollow=_useState4[0],setShowFollow=_useState4[1];useEffect(function(){fetch(\"/user/\".concat(userid),{headers:{\"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(function(res){return res.json();}).then(function(result){//console.log(result)\nsetProfile(result);});},[]);return/*#__PURE__*/_jsx(_Fragment,{children:userProfile?/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:\"550px\",margin:\"0px auto\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-around\",margin:\"18px 0px\",borderBottom:\"1px solid grey\"},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{style:{width:\"160px\",height:\"160px\",borderRadius:\"80px\"},src:userProfile.user.pic})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:userProfile.user.name}),/*#__PURE__*/_jsx(\"h5\",{children:userProfile.user.email}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",width:\"108%\"},children:[/*#__PURE__*/_jsxs(\"h6\",{children:[userProfile.posts.length,\" posts\"]}),/*#__PURE__*/_jsxs(\"h6\",{children:[userProfile.user.followers.length,\" followers\"]}),/*#__PURE__*/_jsxs(\"h6\",{children:[userProfile.user.following.length,\" following\"]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"gallery\",children:userProfile.posts.map(function(item){return/*#__PURE__*/_jsx(\"img\",{className:\"item\",src:item.photo,alt:item.title},item._id);})})]}):/*#__PURE__*/_jsx(\"h2\",{children:\"loading...!\"})});};export default Profile;","map":{"version":3,"sources":["D:/Alumni/client/src/components/screens/UserProfile.js"],"names":["React","useEffect","useState","useContext","UserContext","useParams","Profile","userProfile","setProfile","state","dispatch","userid","following","includes","showfollow","setShowFollow","fetch","headers","localStorage","getItem","then","res","json","result","maxWidth","margin","display","justifyContent","borderBottom","width","height","borderRadius","user","pic","name","email","posts","length","followers","map","item","photo","title","_id"],"mappings":"gPAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,CAAwBC,QAAxB,CAAiCC,UAAjC,KAAkD,OAAlD,CACA,OAAQC,WAAR,KAA0B,WAA1B,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,GAAMC,CAAAA,OAAO,CAAI,QAAXA,CAAAA,OAAW,EAAI,eACgBJ,QAAQ,CAAC,IAAD,CADxB,wCACVK,WADU,eACEC,UADF,+BAEQL,UAAU,CAACC,WAAD,CAFlB,CAEVK,KAFU,aAEVA,KAFU,CAEJC,QAFI,aAEJA,QAFI,gBAGAL,SAAS,EAHT,CAGVM,MAHU,YAGVA,MAHU,gBAIkBT,QAAQ,CAACO,KAAK,CAAC,CAACA,KAAK,CAACG,SAAN,CAAgBC,QAAhB,CAAyBF,MAAzB,CAAF,CAAmC,IAAzC,CAJ1B,yCAIVG,UAJU,eAICC,aAJD,eAKjBd,SAAS,CAAC,UAAI,CACXe,KAAK,iBAAUL,MAAV,EAAmB,CACpBM,OAAO,CAAC,CACJ,gBAAgB,UAAUC,YAAY,CAACC,OAAb,CAAqB,KAArB,CADtB,CADY,CAAnB,CAAL,CAKCC,IALD,CAKM,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,IAAJ,EAAF,EALT,EAMCF,IAND,CAMM,SAAAG,MAAM,CAAE,CACV;AAECf,UAAU,CAACe,MAAD,CAAV,CACJ,CAVD,EAWF,CAZQ,CAYP,EAZO,CAAT,CAgBA,mBACI,yBACChB,WAAW,cACZ,aAAK,KAAK,CAAE,CAACiB,QAAQ,CAAC,OAAV,CAAkBC,MAAM,CAAC,UAAzB,CAAZ,wBACI,aAAK,KAAK,CAAE,CACRC,OAAO,CAAC,MADA,CAERC,cAAc,CAAC,cAFP,CAGRF,MAAM,CAAC,UAHC,CAIRG,YAAY,CAAC,gBAJL,CAAZ,wBAMI,kCACI,YAAK,KAAK,CAAE,CAACC,KAAK,CAAC,OAAP,CAAeC,MAAM,CAAC,OAAtB,CAA8BC,YAAY,CAAC,MAA3C,CAAZ,CACA,GAAG,CAAExB,WAAW,CAACyB,IAAZ,CAAiBC,GADtB,EADJ,EANJ,cAWI,oCACI,oBAAK1B,WAAW,CAACyB,IAAZ,CAAiBE,IAAtB,EADJ,cAEI,oBAAK3B,WAAW,CAACyB,IAAZ,CAAiBG,KAAtB,EAFJ,cAGI,aAAK,KAAK,CAAE,CAACT,OAAO,CAAC,MAAT,CAAgBC,cAAc,CAAC,eAA/B,CAA+CE,KAAK,CAAC,MAArD,CAAZ,wBACI,sBAAKtB,WAAW,CAAC6B,KAAZ,CAAkBC,MAAvB,YADJ,cAEI,sBAAK9B,WAAW,CAACyB,IAAZ,CAAiBM,SAAjB,CAA2BD,MAAhC,gBAFJ,cAGI,sBAAK9B,WAAW,CAACyB,IAAZ,CAAiBpB,SAAjB,CAA2ByB,MAAhC,gBAHJ,GAHJ,GAXJ,GADJ,cA6CI,YAAK,SAAS,CAAC,SAAf,UAEQ9B,WAAW,CAAC6B,KAAZ,CAAkBG,GAAlB,CAAsB,SAAAC,IAAI,CAAE,CACxB,mBACC,YAAoB,SAAS,CAAC,MAA9B,CAAqC,GAAG,CAAEA,IAAI,CAACC,KAA/C,CAAsD,GAAG,CAAED,IAAI,CAACE,KAAhE,EAAUF,IAAI,CAACG,GAAf,CADD,CAGH,CAJD,CAFR,EA7CJ,GADY,cA4DV,mCA7DF,EADJ,CAkEF,CAvFF,CA0FC,cAAerC,CAAAA,OAAf","sourcesContent":["import React,{useEffect,useState,useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport {useParams} from 'react-router-dom'\r\nconst Profile  = ()=>{\r\n    const [userProfile,setProfile] = useState(null)\r\n    const {state,dispatch} = useContext(UserContext)\r\n    const {userid} = useParams()\r\n    const [showfollow,setShowFollow] = useState(state?!state.following.includes(userid):true)\r\n    useEffect(()=>{\r\n       fetch(`/user/${userid}`,{\r\n           headers:{\r\n               \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n           }\r\n       })\r\n       .then(res=>res.json())\r\n       .then(result=>{\r\n           //console.log(result)\r\n         \r\n            setProfile(result)\r\n       })\r\n    },[])\r\n\r\n    \r\n\r\n    return (\r\n        <>\r\n        {userProfile ?\r\n        <div style={{maxWidth:\"550px\",margin:\"0px auto\"}}>\r\n            <div style={{\r\n                display:\"flex\",\r\n                justifyContent:\"space-around\",\r\n                margin:\"18px 0px\",\r\n                borderBottom:\"1px solid grey\"\r\n            }}>\r\n                <div>\r\n                    <img style={{width:\"160px\",height:\"160px\",borderRadius:\"80px\"}}\r\n                    src={userProfile.user.pic}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <h4>{userProfile.user.name}</h4>\r\n                    <h5>{userProfile.user.email}</h5>\r\n                    <div style={{display:\"flex\",justifyContent:\"space-between\",width:\"108%\"}}>\r\n                        <h6>{userProfile.posts.length} posts</h6>\r\n                        <h6>{userProfile.user.followers.length} followers</h6>\r\n                        <h6>{userProfile.user.following.length} following</h6>\r\n                    </div>\r\n                    {/* {showfollow?\r\n                    <button style={{\r\n                        margin:\"10px\"\r\n                    }} className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n                     onClick={()=>followUser()}\r\n                     >\r\n                         Follow\r\n                     </button>\r\n                     : \r\n                     <button\r\n                     style={{\r\n                         margin:\"10px\"\r\n                     }}\r\n                     className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n                     onClick={()=>unfollowUser()}\r\n                     >\r\n                         Unfollow\r\n                     </button>\r\n                     } */}\r\n                    \r\n                   \r\n \r\n                </div>\r\n            </div>\r\n      \r\n            <div className=\"gallery\">\r\n                {\r\n                    userProfile.posts.map(item=>{\r\n                        return(\r\n                         <img key={item._id} className=\"item\" src={item.photo} alt={item.title}/>  \r\n                        )\r\n                    })\r\n                }\r\n \r\n            \r\n            </div>\r\n        </div>\r\n        \r\n        \r\n        : <h2>loading...!</h2>}\r\n        \r\n        </>\r\n    )\r\n }\r\n \r\n \r\n export default Profile"]},"metadata":{},"sourceType":"module"}